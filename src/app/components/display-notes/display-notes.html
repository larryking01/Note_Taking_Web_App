<article class="layout">
    <app-sidebar />

    <section class="main">
        <app-navbar [pageTitle]="'Notes list'" />

        <div class="notes-content">
            <input type="text" placeholder="Search notes by title, tag or content.." 
                   [(ngModel)]="searchQuery" (ngModelChange)="filterNotes()" class="search-input"/>


                <article *ngIf="allNotes$ | async as notes; else loading">
                    <div *ngIf="notes.length > 0; else noNotes" class="notes-grid">
                        <div *ngFor="let note of filteredNotes" class="note-card">
                            <h3>{{ note.title }}</h3>
                            <p>{{ note.content }}</p>
                            <button (click)="navigateToEditNote(note)">Edit</button>
                        </div>
                    </div>
                </article>

            <ng-template #loading>
                <p>Loading notes...</p>
            </ng-template>

            <ng-template #noNotes>
                <p>No notes available yet..</p>
            </ng-template>

        </div>


    </section>


</article>
